<!DOCTYPE html>
<html>
<head>
    <title>AI Tools</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        .card { background: #f5f5f5; padding: 20px; margin: 20px 0; border-radius: 8px; }
        button { background: #007acc; color: white; padding: 10px; border: none; border-radius: 4px; cursor: pointer; }
        pre { background: #1e1e1e; color: #fff; padding: 15px; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>AI Tools - CODM Coach & Local Reply</h1>
    <div class="card">
        <h2>CODM Tips</h2>
        <input id="weapon" placeholder="Weapon type">
        <button onclick="getCODMTips()">Get Tips</button>
        <pre id="codm-output"></pre>
    </div>
    <div class="card">
        <h2>Business Reply</h2>
        <input id="business" placeholder="Business type">
        <textarea id="message" placeholder="Customer message"></textarea>
        <button onclick="getBusinessReply()">Draft Reply</button>
        <pre id="business-output"></pre>
    </div>
    <script>
        async function getCODMTips() {
            const output = document.getElementById("codm-output");
            output.textContent = "Loading...";
            const response = await fetch("/api/codm", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ weapon_type: document.getElementById("weapon").value })
            });
            const data = await response.json();
            output.textContent = JSON.stringify(data, null, 2);
        }
        async function getBusinessReply() {
            const output = document.getElementById("business-output");
            output.textContent = "Loading...";
            const response = await fetch("/api/localreply", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 
                    business_type: document.getElementById("business").value,
                    customer_message: document.getElementById("message").value
                })
            });
            const data = await response.json();
            output.textContent = JSON.stringify(data, null, 2);
        }
    </script>
</body>
</html>
